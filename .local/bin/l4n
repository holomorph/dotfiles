#!/usr/bin/python

import json
import os.path
import sys
import urllib.parse
import urllib.request

if len(sys.argv) == 1:
    print("Usage: %s <address ...>" % os.path.basename(sys.argv[0]), file=sys.stderr)
else:
    url = "https://maps.googleapis.com/maps/api/geocode/json"
    params = urllib.parse.urlencode({"address": " ".join(sys.argv[1:])})
    response = urllib.request.urlopen("%s?%s" % (url, params))
    data = json.loads(response.read().decode('utf-8'))
    for d in data["results"]:
        loc = d["geometry"]["location"]
        print("%.5f:%.5f:%s" % (loc["lat"], loc["lng"], d["formatted_address"]))
